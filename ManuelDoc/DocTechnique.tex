\documentclass[a4paper 12pts]{article}
\usepackage[utf8]{inputenc}
\usepackage[T1]{fontenc}
\usepackage[francais]{babel}
\usepackage{graphicx}


\title{Documentation Technique : iRover}

\author{}

\begin{document}

\maketitle


\begin{figure}[h]
   \includegraphics[width=350pt]{Illustration/proj_irover.jpg}
	\caption{iRover, l'histoire d'un hÃ©ros qu'on appellait robot}
\end{figure}



\newpage


\renewcommand{\contentsname}{Sommaire} 
\tableofcontents

\newpage





\section{Manuel Documentation Technique}


\vspace{2cm}

Cette partie est dÃ©diÃ©e aux dÃ©veloppeurs
%expliquer Ã  quoi sert cette documentation


\section{Les personnages}
Le jeu possède des personnages. Ceux-ci sont représentés par la classe personnage. Tous les personnages possèdent des attributs:
\begin{enumerate}
	\item positionX: La position du personnage sur l'axe x.
	\item positionY: La position du personnage sur l'axe y.
	\item arme: L'arme qui possède le personnage.
	\item armure: L'armure que possède le personnage.
	\item puissance: La puissance du personnage, déterminée à partir de son arme.
	\item robustesse: La robustesse du personnage, déterminée à partir de son armure.
	\item isActive: Pour savoir si le personnage est encore en vie.
	\item sprite: L'image du personnage dans le jeu.
	\item collision_map: Un vecteur qui détermine les endroits où le personnage peut aller.
\end{enumerate}

Grâce à ces attributs, tous les personnages peuvent se déplacer d'une case grâce à la méthode deplacer(int x,int y). Les personnages peuvent aussi combattre d'autres personnages grâce à la méthode combattre(Personnage* personnage).

Le vainqueur d'un combat est déterminé par le celui qui à la plus grande chance de gagner. Les deux adversaires tire un nombre déterminé par l'algorithme suivant :

\begin{equation}
    random() \times puissance \times robustesse 
    \label{combat}
\end{equation}

Ainsi on compare ces deux nombres. Celui qui a le plus grand gagner le duel.

\subsection{Le robot, Rover}

Le robot, en plus d'hériter des propriétés des personnages, possède un attribut inventaire qui représente le nombre de clefs qu'il possède.

L'objectif du robot est d'ouvrir tous les coffres de la carte et chaque coffre s'ouvre à l'aide d'une clef. Ainsi, le robot possède les méthode ramasser(Clef* clef) ou ouvrir(Coffre* coffre).

Le robot se déplace d'une certaines manière, grâce à un algorithme de pathfinding\ref{pathfinding}.

\subsection{Les ennemis}

Un ennemi est un simple personnage qui a sa propre façon de se déplacer et de combattre. 
Une ennemi se déplace aléatoirement sur la carte, et continue tant que la partie n'est pas finie ou tant qu'il est encore en vie.

Lorsqu'un ennemi est à une case du robot, alors celui-ci affronte le robot.


\section{Les coffres}

Les coffres sont de simples objets qui possèdent les propriétés suivantes: 

\begin{enumerate}
	\item positionX: sa position sur l'axe x.
	\item positionY: sa position sur l'axe y. 
	\item ouvert: boolean qui permet de savoir si le coffre est ouvert ou fermé.
	\item sprite: l'image du coffre.
\end{enumerate}

Une fois le coffre ouvert, son parametre ouvert passe à true et ne peut donc plus s'ouvrir.


\section{Les clef}

Les clefs ont les mêmes attributs que les coffres excepté pour l'attribut ouvert. Une fois la clef ramassée, celle-ci disparait de la carte et l'inventaire du robot augmente de 1.

\section{Les actuateurs}

Le robot, tout comme les ennemis possèdent deux sortes d'actuateurs: les armes et les armures.

Ces armes et armures déterminent la puissance et la robustesse de chaque personnage du jeu.

Plusieurs armes existent dans le jeu, un bazooka qui augmente fortemment la puissance du possesseur, des mines que le personnage laisse derière lui régulièrement\ldots

Grâce à ces différents actuateurs, il est possible de choisir sa stratégie selon le nombre d'ennemis sur la carte, la forme de la carte\ldots

Toutes les armes héritent de la classes Arme et les armures de la classe Armure. Ainsi, i lest facile de créer de nouveaux types d'armes et armures.

\section{Les senseurs}

Le robot possède un scanner. Celui-ci permet de scanner une map et de savoir quels sont les endroits où il peut aller et les endroits qu'ils lui sont impossible d'aller.


\section{L'environnement}

Le terrain est reprÃ©sentÃ© par la classe \textbf{Map}, qui contient les informations sur ce terrain (hauteur, largeur, taille des cases) et deux matrices contenant respectivement les types de cases de la carte, et la praticabilitÃ© de celles-ci. Cette derniÃ¨re matrice est passÃ©e aux entitÃ©s Ã©voluant dans cette carte, pour connaÃ®tre les cases passables ou non et adapter leurs algorithmes de recherche de chemin en consÃ©quence.
Une carte se construit Ã  partir d'un fichier au format \emph{.tmx}, un format de carte gÃ©rÃ© par le logiciel \textbf{Tiled}, un Ã©diteur de cartes libre. Ce fichier est alors traÃ®tÃ© comme un document DOM, grÃ¢ce au module \emph{ClanXML} de la bibliothÃ¨que \emph{ClanLib 4.0}, pour en extraire les informations et les numÃ©ros des cases.
Pour gÃ©rer le dessin de la carte, la classe \textbf{Tileset} permet de reprÃ©senter une feuille de textures consistant en une image regroupant toutes les textures des cases pouvant Ãªtre dessinÃ©es. Ce tileset possÃ¨de des mÃ©tadonnÃ©es telles que le nombre de textures en lignes, colonnes, leur taille en pixels et l'espacement entre chacun dans l'image, mÃ©tadonnÃ©es qui peut Ãªtre rÃ©cupÃ©rÃ©es Ã©galement depuis le fichier de carte .tmx fourni. A partir d'un numÃ©ro de tile Ã  une certaine position dans la carte, on peut alors dÃ©terminer quelle texture doit Ãªtre dessinÃ©e Ã  l'emplacement correspondant. 
La classe \textbf{mapDisplay} est pour l'instant la classe principale de l'application, oÃ¹ sont affichÃ©s la carte et tous les Ã©lÃ©ments interagissant avec. Tout l'affichage est gÃ©rÃ© par le module \emph{ClanDisplay} de la bibliothÃ¨que \emph{ClanLib 4.0}, qui dessine au milieu de la fenÃªtre toute la carte case par case conformÃ©ment au Tileset fourni, ainsi que tous les personnages et les objets.

\section{La gestion des Evènements}

La gestion des évènemments concerne toutes les action que peuvent faire les personnages dans le jeu.

\subsection {Rencontre avec un ennemi} 

Lorsque le robot rencontre un ennemi, un combat se déclenche. Une des deux personnages en sort vainqueur, si le robot gagne alors la partie continue, sinon la partie s'arrête.

\subsection {Ouvertude d'un coffre}

Lorsque le robot possède au moins une clef et qu'il se trouve à la même position qu'un coffre, alors il l'ouvre. Le statut ouvert du coffre passe donc à true.

\subsection {Ramasser une clef}

Lorsque le robot est à la même position qu'une clef, celui-ci la ramasse automatiquement. Son attribut inventaire est donc incrémenté de 1.


\section{l'interface utilisateur}

\section{IA}

\subsection{path finding}

\subsection{dÃ©couverte de la carte}

\section{condition fin de jeu}

\section {FAQ}




\end{document}

